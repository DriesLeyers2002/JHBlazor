@using Microsoft.AspNetCore.Components
@using Radzen
@using Jeugdhuis.Models

<DialogTemplate>
    <RadzenDataList Data="@orderItems" TItem="OrderItem">
        <Template Context="order">
            <RadzenRow Gap="0">
                <RadzenColumn Size="12" SizeLG="3" class="rz-p-4 order-title">
                    <RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-secondary-lighter">@(order.OrderId)</RadzenText>
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="3" class="rz-p-4 order-title">
                    <RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-secondary-lighter">@(order.Drink)</RadzenText>
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="3" class="rz-p-4 order-title">
                    <RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-secondary-lighter">@(order.Quantity)</RadzenText>
                </RadzenColumn>
                <RadzenColumn Size="12" SizeLG="3" class="rz-p-4 order-title">
                    <RadzenText TextStyle="TextStyle.Body1" class="rz-color-on-secondary-lighter">@(order.PriceAtPurchase)</RadzenText>
                </RadzenColumn>
            </RadzenRow>
        </Template>
    </RadzenDataList>

    <div class="mt-3">
        <RadzenButton Text="Close" ButtonStyle="ButtonStyle.Secondary" Click="HandleCancel" />
    </div>
</DialogTemplate>

@code {
    [Inject]
    private DialogService DialogService { get; set; }

    [Inject]
    private NotificationService NotificationService { get; set; }

    [Parameter]
    public Order Order { get; set; }

    private ICollection<OrderItem> orderItems;

    protected override void OnInitialized()
    {
        orderItems = Order.OrderItems;
    }

    private void HandleCancel()
    {
        DialogService.Close();
    }
}
